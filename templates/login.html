<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AgriSmart - Get Started</title>
<style>
    :root {
        --primary-green: #10B981;
        --dark-green: #047857;
        --light-green: #D1FAE5;
        --accent-green: #34D399;
        --color-bg: #F9FAFB;
        --color-text: #1F2937;
        --color-card-bg: #FFFFFF;
        --color-card-border: #E5E7EB;
        --color-text-muted: #6B7280;
        --glow-color: rgba(16, 185, 129, 0.3);
    }

    /* ---------------------- GENERAL STYLES ---------------------- */
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
        font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, 
            #F0FDF4 0%,
            #ECFDF5 25%,
            #D1FAE5 50%,
            #ECFDF5 75%,
            #F0FDF4 100%);
        background-size: 400% 400%;
        animation: backgroundFlow 20s ease-in-out infinite;
        min-height: 100vh;
        display: flex; align-items: center; justify-content: center;
        position: relative; padding: 20px;
    }

    @keyframes backgroundFlow {
        0% { background-position: 0% 50%; }
        25% { background-position: 100% 50%; }
        50% { background-position: 100% 100%; }
        75% { background-position: 0% 100%; }
        100% { background-position: 0% 50%; }
    }

    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
            radial-gradient(circle at 20% 30%, rgba(16, 185, 129, 0.1) 0%, transparent 60%),
            radial-gradient(circle at 80% 70%, rgba(34, 197, 94, 0.08) 0%, transparent 55%),
            radial-gradient(circle at 50% 50%, rgba(52, 211, 153, 0.06) 0%, transparent 50%);
        animation: floatingOrbs 25s ease-in-out infinite;
        pointer-events: none;
        z-index: -1;
    }

    @keyframes floatingOrbs {
        0%, 100% { opacity: 0.6; }
        50% { opacity: 0.9; }
    }

    .main-container {
        display: flex;
        background: rgba(255,255,255,0.98);
        backdrop-filter: blur(30px);
        border-radius: 24px;
        box-shadow: 0 32px 64px rgba(16, 185, 129, 0.15);
        overflow: hidden;
        max-width: 800px; width:100%; min-height:480px;
        border: 1px solid rgba(255,255,255,0.4);
        position: relative;
    }

    .main-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, var(--primary-green), var(--accent-green), #6EE7B7);
        background-size: 300% 100%;
        animation: topBorderFlow 3s linear infinite;
    }

    @keyframes topBorderFlow {
        0% { background-position: 0% 50%; }
        100% { background-position: 300% 50%; }
    }

    /* ---------------------- FORM SECTION ---------------------- */
    .form-section { 
        flex:1; 
        padding:40px 35px; 
        min-width:350px; 
        display:flex; 
        flex-direction:column; 
        justify-content:center; 
        position: relative;
        z-index: 2;
    }
    
    .header h1 { 
        font-size:32px; 
        font-weight:800; 
        color: var(--dark-green);
        margin-bottom:8px;
        background: linear-gradient(135deg, var(--dark-green), var(--primary-green));
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .header p { 
        color: var(--color-text-muted); 
        font-size:16px; 
        margin-bottom:30px; 
        font-weight:500; 
    }

    .form-group { margin-bottom:22px; }
    .form-group label { 
        display:block; 
        margin-bottom:8px; 
        color: var(--color-text); 
        font-weight:600; 
        font-size:16px; 
    }
    .form-group input {
        width:100%; 
        padding:14px 18px; 
        border:2px solid var(--color-card-border); 
        border-radius:12px; 
        font-size:16px;
        background: var(--color-card-bg); 
        transition: all 0.3s ease; 
        font-family:inherit;
        color: var(--color-text);
    }
    .form-group input:focus { 
        outline:none; 
        border-color: var(--primary-green); 
        background:white; 
        box-shadow:0 0 0 4px var(--glow-color); 
        transform:translateY(-2px); 
    }
    .form-group input::placeholder { 
        color: var(--color-text-muted); 
    }

    .checkbox-group { 
        display:flex; 
        align-items:flex-start; 
        gap:10px; 
        margin-bottom:28px; 
        padding: 1rem;
        background: rgba(16, 185, 129, 0.03);
        border-radius: 12px;
        border: 1px solid rgba(16, 185, 129, 0.1);
    }
    .checkbox-group input[type="checkbox"] { 
        width:20px; 
        height:20px; 
        accent-color: var(--primary-green); 
        margin-top:2px; 
    }
    .checkbox-group label { 
        font-size:15px; 
        color: var(--color-text); 
        margin:0; 
        line-height:1.5; 
    }
    .checkbox-group a { 
        color: var(--primary-green); 
        text-decoration:none; 
        font-weight:600; 
    }
    .checkbox-group a:hover { 
        color: var(--dark-green);
        text-decoration:underline; 
    }

    .submit-btn {
        width:100%; 
        background: linear-gradient(135deg, var(--primary-green) 0%, var(--dark-green) 100%);
        color:white; 
        border:none; 
        padding:16px 20px; 
        border-radius:12px; 
        font-size:16px;
        font-weight:700; 
        cursor:pointer; 
        transition:all 0.3s ease; 
        margin-bottom:25px; 
        letter-spacing:0.5px;
        box-shadow: 0 8px 25px var(--glow-color);
        position: relative;
        overflow: hidden;
        text-transform: uppercase;
    }

    .submit-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s;
    }

    .submit-btn:hover::before {
        left: 100%;
    }

    .submit-btn:hover { 
        transform:translateY(-3px); 
        box-shadow: 0 15px 35px var(--glow-color); 
    }
    .submit-btn:active { 
        transform:translateY(-1px); 
    }

    .divider { 
        text-align:center; 
        margin:24px 0; 
        position:relative; 
        color: var(--color-text-muted); 
        font-size:14px; 
        font-weight:500; 
    }
    .divider::before { 
        content:''; 
        position:absolute; 
        top:50%; 
        left:0; 
        right:0; 
        height:1px; 
        background: linear-gradient(90deg, transparent, var(--color-card-border), transparent); 
    }
    .divider span { 
        background: rgba(255,255,255,0.98); 
        padding:0 20px; 
        position:relative; 
    }

    .sign-in-link { 
        text-align:center; 
        color: var(--color-text); 
        font-size:15px; 
        font-weight:500; 
        margin-top:5px;
        padding: 1rem;
        background: rgba(16, 185, 129, 0.02);
        border-radius: 12px;
        border: 1px solid rgba(16, 185, 129, 0.1);
    }
    .sign-in-link a { 
        color: var(--primary-green); 
        text-decoration:none; 
        font-weight:600; 
    }
    .sign-in-link a:hover { 
        color: var(--dark-green);
        text-decoration:underline; 
    }

    .form-content { 
        display:none; 
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.3s ease;
    }
    .form-content.active { 
        display:block; 
        opacity: 1;
        transform: translateY(0);
    }

    .flash { 
        margin-bottom:20px; 
        padding:16px 20px; 
        border-radius:12px; 
        font-size:14px; 
        font-weight:500; 
        border-left: 4px solid;
        position: relative;
        overflow: hidden;
    }
    .flash.error { 
        color:#dc2626; 
        background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%); 
        border-left-color: #ef4444; 
    }
    .flash.success { 
        color: var(--dark-green); 
        background: linear-gradient(135deg, var(--light-green) 0%, #A7F3D0 100%); 
        border-left-color: var(--primary-green); 
    }
    .flash {
    animation: fadeOut 4s forwards;
}

@keyframes fadeOut {
    0% { opacity: 1; }
    80% { opacity: 1; }
    100% { opacity: 0; display: none; }
}


    /* ---------------------- IMAGE SECTION ---------------------- */
    .image-section { 
        flex:1; 
        background: linear-gradient(135deg, 
            #ECFDF5 0%,
            #D1FAE5 25%,
            #A7F3D0 50%,
            #6EE7B7 75%,
            #34D399 100%);
        background-size: 300% 300%;
        animation: imageBackgroundFlow 15s ease-in-out infinite;
        display:flex; 
        align-items:center; 
        justify-content:center; 
        position:relative; 
        min-height:480px; 
        min-width:320px; 
        overflow:hidden; 
    }

    @keyframes imageBackgroundFlow {
        0% { background-position: 0% 50%; }
        33% { background-position: 100% 50%; }
        66% { background-position: 100% 100%; }
        100% { background-position: 0% 50%; }
    }

    .image-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
            radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.2) 0%, transparent 50%),
            radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.15) 0%, transparent 45%),
            radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 40%);
        animation: imageFloatingLights 20s ease-in-out infinite;
    }

    @keyframes imageFloatingLights {
        0%, 100% { opacity: 0.7; }
        50% { opacity: 1; }
    }

    /* Decorative Elements */
    .decorative-circle {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(5px);
        animation: float 6s ease-in-out infinite;
    }

    .decorative-circle:nth-child(1) {
        width: 80px;
        height: 80px;
        top: 10%;
        left: 10%;
        animation-delay: 0s;
    }

    .decorative-circle:nth-child(2) {
        width: 60px;
        height: 60px;
        top: 20%;
        right: 15%;
        animation-delay: 2s;
    }

    .decorative-circle:nth-child(3) {
        width: 40px;
        height: 40px;
        bottom: 20%;
        left: 20%;
        animation-delay: 4s;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
    }

    .monstera-image { 
        width:100%; 
        height:100%; 
        object-fit:cover; 
        object-position:center; 
    }

    /* ---------------------- RESPONSIVE ---------------------- */
    @media (max-width:850px) { 
        .main-container { 
            flex-direction:column; 
            max-width:450px; 
            min-height:auto; 
        } 
        .image-section { 
            order:-1; 
            min-height:180px; 
            flex:none; 
        } 
        .form-section { 
            padding:30px 25px; 
        } 
    }
    @media (max-width:480px) { 
        body { 
            padding:10px; 
        } 
        .form-section { 
            padding:20px 18px; 
        } 
        .header h1 { 
            font-size:26px; 
        } 
    }
</style>
</head>
<body>
<div class="main-container">

    <!-- FORM SECTION -->
    <div class="form-section">
        <div class="header">
            <h1 id="form-title">Welcome Back</h1>
            <p id="form-subtitle">Sign in to your AgriSmart account</p>
        </div>

        <!-- FLASH MESSAGES -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash {{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- SIGN IN FORM -->
        <div id="signin-form" class="form-content active">
            <form method="POST" action="{{ url_for('login') }}">
                <div class="form-group">
                    <label for="signin-email">Email address</label>
                    <input type="email" id="signin-email" name="email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="signin-password">Password</label>
                    <input type="password" id="signin-password" name="password" placeholder="Enter your password" required>
                </div>
                <button type="submit" class="submit-btn">Login</button>
            </form>
        </div>

        <!-- SIGN UP FORM -->
        <div id="signup-form" class="form-content">
            <form method="POST" action="{{ url_for('register') }}">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" placeholder="Enter your full name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email address</label>
                    <input type="email" id="email" name="email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" placeholder="Create a password" required>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="terms" name="terms" required>
                    <label for="terms">I agree to the <a href="#" onclick="showTerms()">terms & policy</a></label>
                </div>
                <button type="submit" class="submit-btn">Signup</button>
            </form>
        </div>

        <div class="sign-in-link">
            <span id="switch-text">Don't have an account? <a href="#" onclick="switchForm('signup')">Register</a></span>
        </div>
    </div>

    <!-- IMAGE SECTION -->
    <div class="image-section">
        <div class="decorative-circle"></div>
        <div class="decorative-circle"></div>
        <div class="decorative-circle"></div>
        <img src="{{ url_for('static', filename='images/monstra.jpg') }}" alt="Agricultural Technology" class="monstera-image">
    </div>
</div>

<script>
    function switchForm(formType) {
        const signupForm = document.getElementById('signup-form');
        const signinForm = document.getElementById('signin-form');
        const switchText = document.getElementById('switch-text');
        const header = document.getElementById('form-title');
        const subtitle = document.getElementById('form-subtitle');

        // Add smooth transition
        const currentForm = formType === 'signup' ? signinForm : signupForm;
        const targetForm = formType === 'signup' ? signupForm : signinForm;

        // Fade out current form
        currentForm.style.opacity = '0';
        currentForm.style.transform = 'translateY(-20px)';

        setTimeout(() => {
            if(formType==='signup'){
                signinForm.classList.remove('active');
                signupForm.classList.add('active');
                switchText.innerHTML = 'Have an account? <a href="#" onclick="switchForm(\'signin\')">Sign In</a>';
                header.textContent = 'Get Started Now';
                subtitle.textContent = 'Join AgriSmart for smarter farming solutions';
            } else {
                signupForm.classList.remove('active');
                signinForm.classList.add('active');
                switchText.innerHTML = 'Don\'t have an account? <a href="#" onclick="switchForm(\'signup\')">Register</a>';
                header.textContent = 'Welcome Back';
                subtitle.textContent = 'Sign in to your AgriSmart account';
            }

            // Fade in target form
            setTimeout(() => {
                targetForm.style.opacity = '1';
                targetForm.style.transform = 'translateY(0)';
            }, 50);
        }, 150);
    }

    function showTerms(){ 
        alert('Terms & Policy:\n\nBy creating an account, you agree to our Terms of Service and Privacy Policy. Your data will be used solely for providing AgriSmart services and will never be shared with third parties without your consent.'); 
    }

    // Add input validation visual feedback
    document.querySelectorAll('input').forEach(input => {
        input.addEventListener('blur', function() {
            if (this.value && this.validity.valid) {
                this.style.borderColor = 'var(--accent-green)';
                this.style.background = 'rgba(16, 185, 129, 0.02)';
            }
        });

        input.addEventListener('focus', function() {
            this.style.borderColor = 'var(--primary-green)';
            this.style.background = 'white';
        });
    });

    // Smooth page transitions
    window.addEventListener('load', () => {
        document.querySelector('.main-container').style.opacity = '0';
        document.querySelector('.main-container').style.transform = 'translateY(30px)';
        
        setTimeout(() => {
            document.querySelector('.main-container').style.transition = 'all 0.6s ease';
            document.querySelector('.main-container').style.opacity = '1';
            document.querySelector('.main-container').style.transform = 'translateY(0)';
        }, 100);
    });
</script>
</body>
</html>